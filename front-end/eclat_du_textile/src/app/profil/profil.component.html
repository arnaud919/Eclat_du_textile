<div class="profile-container" *ngIf="userProfile; else loading">
  <h2>Mon Profil</h2>
  <div>
    <p><strong>Email :</strong> {{ userProfile.username }}</p>
    <p><strong>Prénom :</strong> {{ userProfile.first_name || 'Non disponible' }}</p>
    <p><strong>Nom :</strong> {{ userProfile.last_name || 'Non disponible' }}</p>

    <div *ngIf="isAdmin">
      <p><strong>Statut :</strong> Administrateur</p>
    </div>
  </div>
</div>

<!-- Template de chargement -->
<ng-template #loading>
  <p>Chargement des informations du profil...</p>
</ng-template>

<!-- Affichage des erreurs -->
<div *ngIf="errorMessage" class="alert alert-danger">
  {{ errorMessage }}
</div>

<h2>Historique des services choisis</h2>

<!-- Bouton pour effacer les données -->
<button (click)="clearData()">Effacer l'historique</button>

<!-- Si aucune donnée n'est trouvée -->
<div *ngIf="serviceData.length === 0">
  <p>Aucune donnée disponible.</p>
</div>

<!-- Affichage des données récupérées -->
<div *ngFor="let entry of serviceData; let i = index">
  <h3>Entrée {{ i + 1 }}</h3>
  <p><strong>Nom du service :</strong> {{ entry.serviceName }}</p>  <!-- Nom du service -->
  <p><strong>Nom du vêtement :</strong> {{ entry.clothName }}</p>   <!-- Nom du vêtement -->
  <p><strong>Prix total :</strong> {{ entry.totalPrice | number:'1.0-2' }} €</p>  <!-- Prix total -->
  <p><strong>Matière :</strong> {{ entry.material }}</p>  <!-- Matière -->
  <p><strong>Couleur :</strong> {{ entry.color }}</p>  <!-- Couleur -->
  <hr>
</div>

<!-- Affichage du prix total -->
<div *ngIf="totalPrice > 0">
  <h3>Prix total pour tous les services : {{ totalPrice | number:'1.0-2' }} €</h3>
</div>
